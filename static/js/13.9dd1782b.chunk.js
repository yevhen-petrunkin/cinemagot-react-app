"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[13],{8013:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n,s,i,u,o=r(9439),a=r(2791),c=r(168),l=r(4313),h=l.ZP.div(n||(n=(0,c.Z)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 40px;\n"]))),d=l.ZP.article(s||(s=(0,c.Z)(["\n  padding: 12px;\n  width: 350px;\n\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n  overflow: hidden;\n"])),(function(e){return e.theme.colors.default}),(function(e){return e.theme.radii[2]}),(function(e){return e.theme.shadows.ordinary})),f=l.ZP.a(i||(i=(0,c.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondaryDark})),p=(l.ZP.img(u||(u=(0,c.Z)(["\n  width: 100%;\n"]))),r(3734)),v=r(1413),y=r(4925),R=r(5671),m=r(3144),b=r(136),g=r(7277),k=r(9538),S=r(1771),Q=r(5511),I=r(3075),O=["refetchPage"],E=function(e){(0,b.Z)(r,e);var t=(0,g.Z)(r);function r(e,n){var s;return(0,R.Z)(this,r),(s=t.call(this)).client=e,s.options=n,s.trackedProps=new Set,s.selectError=null,s.bindMethods(),s.setOptions(n),s}return(0,m.Z)(r,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),x(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.listeners.length||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return C(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return C(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(e,t){var r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,p.VS)(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();var s=this.hasListeners();s&&w(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),!s||this.currentQuery===n&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.updateStaleTimeout();var i=this.computeRefetchInterval();!s||this.currentQuery===n&&this.options.enabled===r.enabled&&i===this.currentRefetchInterval||this.updateRefetchInterval(i)}},{key:"getOptimisticResult",value:function(e){var t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(e){var t=this,r={};return Object.keys(e).forEach((function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:function(){return t.trackedProps.add(n),e[n]}})})),r}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refetchPage,r=(0,y.Z)(e,O);return this.fetch((0,v.Z)((0,v.Z)({},r),{},{meta:{refetchPage:t}}))}},{key:"fetchOptimistic",value:function(e){var t=this,r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then((function(){return t.createResult(n,r)}))}},{key:"fetch",value:function(e){var t,r=this;return this.executeFetch((0,v.Z)((0,v.Z)({},e),{},{cancelRefetch:null==(t=e.cancelRefetch)||t})).then((function(){return r.updateResult(),r.currentResult}))}},{key:"executeFetch",value:function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(p.ZT)),t}},{key:"updateStaleTimeout",value:function(){var e=this;if(this.clearStaleTimeout(),!p.sk&&!this.currentResult.isStale&&(0,p.PN)(this.options.staleTime)){var t=(0,p.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}}},{key:"computeRefetchInterval",value:function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}},{key:"updateRefetchInterval",value:function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!p.sk&&!1!==this.options.enabled&&(0,p.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||S.j.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(e,t){var r,n=this.currentQuery,s=this.options,i=this.currentResult,u=this.currentResultState,o=this.currentResultOptions,a=e!==n,c=a?e.state:this.currentQueryInitialState,l=a?this.currentResult:this.previousQueryResult,h=e.state,d=h.dataUpdatedAt,f=h.error,v=h.errorUpdatedAt,y=h.fetchStatus,R=h.status,m=!1,b=!1;if(t._optimisticResults){var g=this.hasListeners(),k=!g&&x(e,t),S=g&&w(e,n,t,s);(k||S)&&(y=(0,I.Kw)(e.options.networkMode)?"fetching":"paused",d||(R="loading")),"isRestoring"===t._optimisticResults&&(y="idle")}if(t.keepPreviousData&&!h.dataUpdatedAt&&null!=l&&l.isSuccess&&"error"!==R)r=l.data,d=l.dataUpdatedAt,R=l.status,m=!0;else if(t.select&&"undefined"!==typeof h.data)if(i&&h.data===(null==u?void 0:u.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(h.data),r=(0,p.oE)(null==i?void 0:i.data,r,t),this.selectResult=r,this.selectError=null}catch(P){0,this.selectError=P}else r=h.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof r&&"loading"===R){var Q;if(null!=i&&i.isPlaceholderData&&t.placeholderData===(null==o?void 0:o.placeholderData))Q=i.data;else if(Q="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof Q)try{Q=t.select(Q),this.selectError=null}catch(P){0,this.selectError=P}"undefined"!==typeof Q&&(R="success",r=(0,p.oE)(null==i?void 0:i.data,Q,t),b=!0)}this.selectError&&(f=this.selectError,r=this.selectResult,v=Date.now(),R="error");var O="fetching"===y,E="loading"===R,C="error"===R;return{status:R,fetchStatus:y,isLoading:E,isSuccess:"success"===R,isError:C,isInitialLoading:E&&O,data:r,dataUpdatedAt:d,error:f,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:O,isRefetching:O&&!E,isLoadingError:C&&0===h.dataUpdatedAt,isPaused:"paused"===y,isPlaceholderData:b,isPreviousData:m,isRefetchError:C&&0!==h.dataUpdatedAt,isStale:T(e,t),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(e){var t=this,r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,p.VS)(n,r)){this.currentResult=n;var s={cache:!0};!1!==(null==e?void 0:e.listeners)&&function(){if(!r)return!0;var e=t.options.notifyOnChangeProps;if("all"===e||!e&&!t.trackedProps.size)return!0;var n=new Set(null!=e?e:t.trackedProps);return t.options.useErrorBoundary&&n.add("error"),Object.keys(t.currentResult).some((function(e){var s=e;return t.currentResult[s]!==r[s]&&n.has(s)}))}()&&(s.listeners=!0),this.notify((0,v.Z)((0,v.Z)({},s),e))}}},{key:"updateQuery",value:function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}}},{key:"onQueryUpdate",value:function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,I.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(e){var t=this;k.V.batch((function(){var r,n,s,i;if(e.onSuccess)null==(r=(n=t.options).onSuccess)||r.call(n,t.currentResult.data),null==(s=(i=t.options).onSettled)||s.call(i,t.currentResult.data,null);else if(e.onError){var u,o,a,c;null==(u=(o=t.options).onError)||u.call(o,t.currentResult.error),null==(a=(c=t.options).onSettled)||a.call(c,void 0,t.currentResult.error)}e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))}}]),r}(Q.l);function x(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&C(e,t,t.refetchOnMount)}function C(e,t,r){if(!1!==t.enabled){var n="function"===typeof r?r(e):r;return"always"===n||!1!==n&&T(e,t)}return!1}function w(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&T(e,r)}function T(e,t){return e.isStaleByTime(t.staleTime)}var P=r(7248).useSyncExternalStore;function Z(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var U=a.createContext(Z()),j=r(6403),F=a.createContext(!1),A=(F.Provider,r(3433));var D=function(e){var t,r,n=e.result,s=e.errorResetBoundary,i=e.useErrorBoundary,u=e.query;return n.isError&&!s.isReset()&&!n.isFetching&&(t=i,r=[n.error,u],"function"===typeof t?t.apply(void 0,(0,A.Z)(r)):!!t)};function L(e,t){var r=(0,j.NL)({context:e.context}),n=a.useContext(F),s=a.useContext(U),i=r.defaultQueryOptions(e);i._optimisticResults=n?"isRestoring":"optimistic",i.onError&&(i.onError=k.V.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=k.V.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=k.V.batchCalls(i.onSettled)),function(e){e.suspense&&"number"!==typeof e.staleTime&&(e.staleTime=1e3)}(i),function(e,t){(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))}(i,s),function(e){a.useEffect((function(){e.clearReset()}),[e])}(s);var u=a.useState((function(){return new t(r,i)})),c=(0,o.Z)(u,1)[0],l=c.getOptimisticResult(i);if(P(a.useCallback((function(e){return n?function(){}:c.subscribe(k.V.batchCalls(e))}),[c,n]),(function(){return c.getCurrentResult()}),(function(){return c.getCurrentResult()})),a.useEffect((function(){c.setOptions(i,{listeners:!1})}),[i,c]),function(e,t,r){return(null==e?void 0:e.suspense)&&function(e,t){return e.isLoading&&e.isFetching&&!t}(t,r)}(i,l,n))throw function(e,t,r){return t.fetchOptimistic(e).then((function(t){var r=t.data;null==e.onSuccess||e.onSuccess(r),null==e.onSettled||e.onSettled(r,null)})).catch((function(t){r.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))}(i,c,s);if(D({result:l,errorResetBoundary:s,useErrorBoundary:i.useErrorBoundary,query:c.getCurrentQuery()}))throw l.error;return i.notifyOnChangeProps?l:c.trackResult(l)}var B=r(7589),V=r(184);var _=function(){var e,t,r,n=(0,a.useState)([]),s=(0,o.Z)(n,2),i=s[0],u=s[1],c=(e=["news"],t=B.Q2,L((0,p._v)(e,t,r),E)),l=c.isLoading,v=c.isError,y=c.data;return(0,a.useEffect)((function(){y&&u(y)}),[y]),l?(0,V.jsx)("div",{children:"Loading..."}):v?(0,V.jsx)("div",{children:"Error fetching data"}):(0,V.jsxs)("section",{children:[(0,V.jsx)("h1",{children:"Film Industry News"}),(0,V.jsx)(h,{children:i.map((function(e){var t=e.author,r=e.title,n=e.content,s=e.publishedAt,i=e.url,u=e.urlToImage;return(0,V.jsx)(d,{children:(0,V.jsxs)(f,{href:i,children:[(0,V.jsx)("h2",{children:r}),(0,V.jsx)("img",{src:u,alt:"title",width:"100%"}),(0,V.jsx)("p",{children:n}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{children:t}),(0,V.jsx)("span",{children:s})]})]})},i)}))})]})}},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=13.9dd1782b.chunk.js.map