"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[113],{2163:function(t,n,e){e.d(n,{Eh:function(){return v},Mj:function(){return b},G9:function(){return x}});var i,r,o,s,u=e(168),a=e(4313),c=a.ZP.div(i||(i=(0,u.Z)(["\n  width: 260px;\n  height: 400px;\n  border-radius: 10px;\n  box-shadow: 1px 1px 3px black;\n  overflow: hidden;\n"]))),l=a.ZP.div(r||(r=(0,u.Z)(["\n  width: 300px;\n  height: 460px;\n  border-radius: 10px;\n  box-shadow: 1px 1px 3px black;\n  overflow: hidden;\n"]))),d=a.ZP.div(o||(o=(0,u.Z)(["\n  width: 160px;\n  height: 240px;\n  border-radius: 10px;\n  box-shadow: 1px 1px 3px black;\n  overflow: hidden;\n"]))),h=a.ZP.img(s||(s=(0,u.Z)(["\n  width: 100%;\n  height: 100%;\n"]))),f=e(6543),p=e(184);function v(){return(0,p.jsx)(c,{children:(0,p.jsx)(h,{src:f,alt:"placeholder"})})}function x(){return(0,p.jsx)(l,{children:(0,p.jsx)(h,{src:f,alt:"placeholder"})})}function b(){return(0,p.jsx)(d,{children:(0,p.jsx)(h,{src:f,alt:"placeholder"})})}},7113:function(t,n,e){e.r(n),e.d(n,{default:function(){return F}});var i,r,o,s,u,a,c,l,d,h=e(1413),f=e(9439),p=e(168),v=e(4313),x=e(1947),b=v.ZP.div(i||(i=(0,p.Z)(["\n  padding: 20px 40px;\n"]))),m=v.ZP.ul(r||(r=(0,p.Z)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  align-items: baseline;\n  flex-wrap: wrap;\n  gap: 40px;\n"]))),Z=(0,v.ZP)(x.rU)(o||(o=(0,p.Z)(["\n  padding: 8px 0;\n  display: inline-block;\n  text-decoration: none;\n  color: ",";\n  text-shadow: ",";\n"])),(function(t){return t.theme.colors.default}),(function(t){return t.theme.shadows.ordinary})),w=v.ZP.img(s||(s=(0,p.Z)(["\n  width: 100%;\n  height: 100%;\n"]))),g=v.ZP.div(u||(u=(0,p.Z)(["\n  position: relative;\n  width: 260px;\n  height: 400px;\n  border-radius: 10px;\n  box-shadow: 1px 1px 3px black;\n  overflow: hidden;\n"]))),y=v.ZP.h3(a||(a=(0,p.Z)(["\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  padding: 8px;\n  margin: 0;\n  width: 228px;\n  font-size: 12px;\n  text-align: left;\n  background-color: ",";\n  border-radius: 4px;\n  box-shadow: ",";\n"])),(function(t){return t.theme.colors.secondaryDark}),(function(t){return t.theme.shadows.ordinary})),k=(v.ZP.button(c||(c=(0,p.Z)(["\n  display: block;\n"]))),e(2791)),j=e(7689),R=e(9434),S=e(6351),M=e(958),C=e(2163),L=e(696),E=e(673),O=e(9692),P=e(3418),I=e(7701),X=e(9337),D=v.ZP.div(l||(l=(0,p.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(1, 1, 1, 0.3);\n"]))),U=v.ZP.div(d||(d=(0,p.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 12px;\n  min-height: 300px;\n  max-width: 600px;\n  width: 100%;\n  background-color: ",";\n  border-radius: 8px;\n  box-shadow: ",";\n"])),(function(t){return t.theme.colors.default}),(function(t){return t.theme.shadows.blurred})),B=e(4164),T=e(184);var V=function(t){t.isPicBoardOpen;var n=t.children,e=(0,R.I0)(),i=document.querySelector("#picboard-root");return(0,k.useEffect)((function(){window.addEventListener("keydown",(function(t){"Escape"===t.code&&(console.log("Close the board please"),e((0,X.SB)()))}))}),[e]),(0,B.createPortal)((0,T.jsx)(D,{children:(0,T.jsxs)(U,{children:[(0,T.jsx)("button",{onClick:function(){return e((0,X.SB)())},type:"button",children:"Close"}),n]})}),i)};var _=function(t){var n=t.movieData,e=n.list,i=n.movie,r=n.userId,o=(0,R.I0)(),s=(0,j.s0)(),u=(0,R.v9)(S.Dc),a=(0,P.D)((function(t){var n=t.list,e=t.movie,i=(0,O.JU)(E.db,"userLists",r);return(0,L.Cl)(i,n,e)}),{onSuccess:function(){console.log("Movie removed from the list successfully")},onError:function(){console.log("Error removing movie from the list")}}),c=function(t){switch(t.target.id){case"recommend":o((0,I.a$)(i.id));break;case"similar":o((0,I.aY)(i.id));break;default:return}s("/movies")};return(0,T.jsxs)("div",{children:[(0,T.jsxs)("button",{type:"button",onClick:function(){return function(t,n){var e={list:t,movie:n};a.mutate(e)}(e.userList,i)},children:["Delete from ",e.content]}),(0,T.jsx)("button",{type:"button",id:"recommend",onClick:c,children:"Recommendations"}),(0,T.jsx)("button",{type:"button",id:"similar",onClick:c,children:"Similar"}),(0,T.jsx)("button",{type:"button",onClick:function(t){o((0,X.JP)())},children:"See Pics"}),u&&(0,T.jsx)(V,{})]})};var F=function(){var t=(0,j.TH)(),n=(0,j.UO)().listId,e=(0,R.v9)(S.ib),i=(0,R.v9)(S.mS),r=(0,R.v9)(S.T7),o=(0,R.v9)(S.dy),s=(0,k.useState)(""),u=(0,f.Z)(s,2),a=u[0],c=u[1],l=(0,k.useState)({}),d=(0,f.Z)(l,2),p=d[0],v=d[1],x=(0,k.useState)(!1),L=(0,f.Z)(x,2),E=L[0],O=L[1];return(0,k.useEffect)((function(){switch(n){case"favorites":v((function(t){return(0,h.Z)((0,h.Z)({},t),{},{userList:M.X[1].listRef,caption:M.X[1].caption,content:M.X[1].content})}));break;case"watchlist":v((function(t){return(0,h.Z)((0,h.Z)({},t),{},{userList:M.X[2].listRef,content:M.X[2].content})}));break;case"seenlist":v((function(t){return(0,h.Z)((0,h.Z)({},t),{},{userList:M.X[3].listRef,content:M.X[3].content})}));break;default:return}}),[n]),(0,k.useEffect)((function(){o&&c(o.userId)}),[o]),(0,T.jsx)("section",{children:(0,T.jsxs)(b,{children:[!i&&e&&p.userList?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h2",{children:p.caption}),(0,T.jsx)(m,{children:e[p.userList].map((function(n){var e=n.id,i=n.title,r=n.poster,o="/movies/"+e.toString();return(0,T.jsxs)("li",{children:[(0,T.jsx)(Z,{to:o,state:{from:t},children:(0,T.jsxs)(g,{children:[(0,T.jsx)(y,{children:i}),!E&&(0,T.jsx)(C.Eh,{}),r&&(0,T.jsx)(w,{src:r,alt:"movieName",onLoad:function(){return O(!0)}})]})}),(0,T.jsx)(_,{movieData:{list:p,movie:n,userId:a}})]},e)}))})]}):(0,T.jsx)("p",{children:"Loading..."}),r&&(0,T.jsx)("p",{children:"Oops... Something went wrong!"})]})})}},958:function(t,n,e){e.d(n,{X:function(){return i}});var i=[{id:"info",listId:"",listRef:null,content:"Info",caption:"My Information"},{id:"favorites",listId:"favorites",listRef:"favList",content:"Favorites",caption:"My Favorites"},{id:"watchlist",listId:"watchlist",listRef:"watchList",content:"Watchlist",caption:"I Wanted to Watch These"},{id:"seenlist",listId:"seenlist",listRef:"seenList",content:"Seen",caption:"I Have Already Seen These"}]},6543:function(t,n,e){t.exports=e.p+"static/media/photoholder.bc7debfc682a5ddc60bf.jpg"},3418:function(t,n,e){e.d(n,{D:function(){return m}});var i=e(1413),r=e(9439),o=e(2791),s=e(7413),u=e(5671),a=e(3144),c=e(136),l=e(7277),d=e(9054),h=e(9538),f=e(5511),p=e(3734),v=function(t){(0,c.Z)(e,t);var n=(0,l.Z)(e);function e(t,i){var r;return(0,u.Z)(this,e),(r=n.call(this)).client=t,r.setOptions(i),r.bindMethods(),r.updateResult(),r}return(0,a.Z)(e,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(t){var n=this.options;this.options=this.client.defaultMutationOptions(t),(0,p.VS)(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}},{key:"onUnsubscribe",value:function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))}},{key:"onMutationUpdate",value:function(t){this.updateResult();var n={listeners:!0};"success"===t.type?n.onSuccess=!0:"error"===t.type&&(n.onError=!0),this.notify(n)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,i.Z)((0,i.Z)({},this.options),{},{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var t=this.currentMutation?this.currentMutation.state:(0,d.R)(),n=(0,i.Z)((0,i.Z)({},t),{},{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset});this.currentResult=n}},{key:"notify",value:function(t){var n=this;h.V.batch((function(){var e,i,r,o;if(n.mutateOptions&&n.hasListeners())if(t.onSuccess)null==(e=(i=n.mutateOptions).onSuccess)||e.call(i,n.currentResult.data,n.currentResult.variables,n.currentResult.context),null==(r=(o=n.mutateOptions).onSettled)||r.call(o,n.currentResult.data,null,n.currentResult.variables,n.currentResult.context);else if(t.onError){var s,u,a,c;null==(s=(u=n.mutateOptions).onError)||s.call(u,n.currentResult.error,n.currentResult.variables,n.currentResult.context),null==(a=(c=n.mutateOptions).onSettled)||a.call(c,void 0,n.currentResult.error,n.currentResult.variables,n.currentResult.context)}t.listeners&&n.listeners.forEach((function(t){t(n.currentResult)}))}))}}]),e}(f.l),x=e(6403),b=e(9608);function m(t,n,e){var u=(0,p.lV)(t,n,e),a=(0,x.NL)({context:u.context}),c=o.useState((function(){return new v(a,u)})),l=(0,r.Z)(c,1)[0];o.useEffect((function(){l.setOptions(u)}),[l,u]);var d=(0,s.$)(o.useCallback((function(t){return l.subscribe(h.V.batchCalls(t))}),[l]),(function(){return l.getCurrentResult()}),(function(){return l.getCurrentResult()})),f=o.useCallback((function(t,n){l.mutate(t,n).catch(Z)}),[l]);if(d.error&&(0,b.L)(l.options.useErrorBoundary,[d.error]))throw d.error;return(0,i.Z)((0,i.Z)({},d),{},{mutate:f,mutateAsync:d.mutate})}function Z(){}},7413:function(t,n,e){e.d(n,{$:function(){return i}});var i=e(7248).useSyncExternalStore},9608:function(t,n,e){e.d(n,{L:function(){return r}});var i=e(3433);function r(t,n){return"function"===typeof t?t.apply(void 0,(0,i.Z)(n)):!!t}}}]);
//# sourceMappingURL=113.e5a40193.chunk.js.map